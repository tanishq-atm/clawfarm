# Security Policy

## Safe to Commit

These are **safe to include** in the public repository:

### ‚úÖ Supabase Anon Keys
- The Supabase `anon` keys in `clawcon/` scripts are **public by design**
- These are meant to be exposed client-side
- Row-level security (RLS) protects the database
- Example: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` (anon role)

### ‚úÖ Submission IDs
- Claw-Con submission UUIDs are public
- These are visible on the website

### ‚úÖ Model IDs
- Leonardo model IDs (e.g., `6bef9f1b-29cb-40c7-b9df-32b51c1f67d3`)
- These are publicly documented

## üîí Never Commit

These should **never** be committed to the repository:

### ‚ùå AgentMail API Keys
- Store in `.env` file (gitignored)
- Set as environment variable: `AGENTMAIL_API_KEY`

### ‚ùå Browser Use API Keys  
- Store in `.env` file (gitignored)
- Set as environment variable: `BROWSERUSE_API_KEY`

### ‚ùå Leonardo API Keys
- Generated by automation
- Load from results JSON or environment variables
- Never hardcode in scripts

### ‚ùå Result Files
- All `*.json` result files are gitignored
- May contain API keys, JWTs, or personal data
- Keep local only

## Cleanup Process

We've implemented the following safeguards:

1. **Removed hardcoded Leonardo API keys** from `leonardo/generate_images.py`
2. **Moved old scripts** to `archive/` (gitignored)
3. **Documented public keys** with comments explaining they're safe
4. **Comprehensive .gitignore** for all sensitive files
5. **.env.example** with placeholders (never commit .env)

## Verifying Clean State

Before pushing to GitHub:

```bash
# Check for uncommitted secrets
git ls-files | xargs grep -l "AGENTMAIL_API_KEY\|BROWSERUSE_API_KEY"

# Verify .env is not tracked
git ls-files | grep "^\.env$"

# Check for result JSON files
git ls-files | grep "\.json$"
```

All commands should return empty (no results).

## Reporting Security Issues

If you find exposed secrets or security issues:

1. **Do NOT open a public issue**
2. Contact maintainers privately
3. We'll fix and rotate affected keys immediately

## Best Practices

When contributing:

- ‚úÖ Use environment variables for secrets
- ‚úÖ Load API keys from results files dynamically
- ‚úÖ Test with `.env.example` (no real keys)
- ‚úÖ Review diffs before committing
- ‚ùå Never hardcode API keys
- ‚ùå Never commit `.env` files
- ‚ùå Never commit result JSONs

## Why Supabase Anon Keys Are Safe

Supabase has two types of keys:

1. **Anon key** (public) - Safe to expose
   - Used client-side in browsers
   - RLS policies protect data
   - Users authenticated via JWT

2. **Service role key** (secret) - Never expose
   - Bypasses all RLS
   - Only used server-side
   - We don't use this

Our scripts only use the public anon key, which is designed to be exposed.
